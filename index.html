<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var TCKimlikOrnek='48796472298';

        dogrulama(TCKimlikOrnek);

        function dogrulama(ornek){
            if (ornek.length==11 && ornek[0] !='0'){
                let i=0;
                while(i<ornek.length){
                    switch(ornek[i]){
                        case '0':
                            i++;
                            break;
                        case '1':
                            i++;
                            break;
                        case '2':
                            i++;
                            break;
                        case '3':
                            i++;
                            break;
                        case '4':
                            i++;
                            break;
                        case '5':
                            i++;
                            break;
                        case '6':
                            i++
                            break;
                        case '7':
                            i++;
                            break;
                        case '8':
                            i++;
                            break;
                        case '9':
                            i++;
                            break;
                        default:
                            console.log("TC KIMLIK NO SADECE RAKAM ICERIR");
                    }
                }

            }
            else
                console.log('TC kimlik numarasi 11 rakamli olmak zorundadir');

            
            basamakSaglamasi(ornek)

            
        }
        function basamakSaglamasi(ornek){
            let i=0;
            let tekBasamak=0;
            let ciftBasamak=0;
            console.log(ornek.length)
            while(i<ornek.length-2){
                if((i+1)%2 == 1){
                    tekBasamak+=parseInt(ornek[i]);
                }
                else{
                    ciftBasamak+=parseInt(ornek[i]);
                }
                i++;
            }
            console.log(tekBasamak);
            tekBasamak*=7;
            console.log(ciftBasamak);
            console.log(parseInt(ornek[9]))
            if ((tekBasamak-ciftBasamak)%10 == parseInt(ornek[9])){
                sonKontrol(ornek)

           }
           else{
                console.log("TC gecersiz");
           }

        }
        function sonKontrol(ornek){
            let OnHane=0;
            let SonRakam=parseInt(ornek[10]);

            for(let i=0;i<ornek.length-1;i++){
                OnHane+=parseInt(ornek[i]);
            }
            if (OnHane % 10 == SonRakam){
                console.log('TC Gecerli');
            }
            else{
                console.log('tc Gecersiz');
            }

        }    
        </script>
</body>
</html>